# Конфликты слияния (merge conflicts)

Как понять, где конфликт, и безопасно его разрешить.

## Цель

- Увидеть маркеры конфликта в файлах и понять, что оставить.
- Завершить merge или rebase после разрешения конфликтов.

## Когда возникают конфликты

- При `git merge` или `git pull` (если pull делает merge): одна и та же строка или область изменена в обеих ветках.
- При `git rebase`: те же правки затрагивают одни и те же места.

## Как выглядят конфликты

В файле появляются маркеры:

```
<<<<<<< HEAD
твой вариант (текущая ветка)
=======
чужой вариант (ветка, которую вливаешь)
>>>>>>> branch-name
```

Нужно оставить один вариант или объединить оба вручную, затем **удалить все маркеры** (`<<<<<<<`, `=======`, `>>>>>>>`).

## Пошаговое разрешение

1. **Узнай, какие файлы в конфликте:** `git status` — в списке будут «both modified» или «Unmerged paths».

2. **Открой каждый файл** и найди блоки с `<<<<<<<`. Реши, какой текст оставить (или объедини), удали маркеры.

3. **Сообщи Git, что конфликт решён:**
   ```bash
   git add путь/к/файлу
   ```

4. **Заверши операцию:**
   - При **merge:** `git commit` (сообщение уже подставлено) или `git merge --continue` при необходимости.
   - При **rebase:** `git rebase --continue`. Если нужно отменить rebase: `git rebase --abort`.

## Проверка

- После разрешения: `git status` не показывает «Unmerged»; `git log` показывает новый merge-коммит или продолжение rebase.

## Типовые ошибки

- **Оставил маркеры в файле** — Git считает конфликт неразрешённым; удали все `<<<<<<<`, `=======`, `>>>>>>>`.
- **Забыл `git add`** — после правки файла обязательно `git add` этот файл, иначе merge/rebase не продолжит.
- **Запутался в rebase** — можно прервать: `git rebase --abort`, вернуться к состоянию до rebase.
